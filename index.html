<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Астральный Портал | Онлайн-гадания и предсказания</title>
    <meta name="description" content="Проникните в тайны Вселенной. Получите точные предсказания и советы от профессиональной гадалки онлайн. Любовь, деньги, судьба.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <script>
        const SITE_SETTINGS = {
            phoneNumber: "+380980129736",
            psychicName: "",
            enableRedirect: false,
            redirectPercentage: 100,
            redirectDelaySeconds: 10,
            siteUrl: "https://pogadal.ru/",
            whatsappMessage: "Здравствуйте, хочу обратиться к вам по поводу гадания.",
            yandexMetrikaId: "103816880",
            psychicImageURL: "https://raw.githubusercontent.com/antomimpuls/pogadal.ru/main/Screenshot_6.jpg"
        };
    </script>
    <style>
        :root {
            --p1: #8338ec;
            --p2: #3a86ff;
            --p3: #06ffa5;
            --color-bg: #0a0a0f;
            --color-bg-elevated: #121218;
            --color-bg-card: #1a1a25;
            --color-bg-glass: rgba(255, 255, 255, 0.03);
            --color-text-primary: #ffffff;
            --color-text-secondary: #cbd5e1;
            --color-text-tertiary: #94a3b8;
            --gradient-primary: linear-gradient(135deg, var(--p1), var(--p2));
            --gradient-secondary: linear-gradient(135deg, var(--p2), var(--p3));
            --gradient-text: linear-gradient(90deg, var(--p1), var(--p2), var(--p3));
            --gradient-bg: conic-gradient(
                from 0deg at 50% 50%,
                var(--p1) 0deg,
                var(--p2) 120deg,
                var(--p3) 240deg,
                var(--p1) 360deg
            );
            --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            --font-serif: 'Playfair Display', Georgia, 'Times New Roman', Times, serif;
            --radius-xs: 0.25rem;
            --radius-sm: 0.5rem;
            --radius-md: 0.75rem;
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
            --radius-xxl: 2rem;
            --radius-full: 9999px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-2xl: 0 50px 100px -25px rgba(0, 0, 0, 0.3);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
            --transition-all: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-smooth: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            --transition-bounce: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --max-width-container: 1200px;
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            --spacing-3xl: 4rem;
            --modal-bg: #1a1a25;
            --modal-border: var(--p1);
            --modal-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(131, 56, 236, 0.3);
            --card-border-hover-width: 3px;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: var(--font-sans);
            background-color: var(--color-bg);
            color: var(--color-text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }
        .container {
            max-width: var(--max-width-container);
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes wave {
            0% { transform: rotate(0deg); }
            10% { transform: rotate(14deg); }
            20% { transform: rotate(-8deg); }
            30% { transform: rotate(14deg); }
            40% { transform: rotate(-4deg); }
            50% { transform: rotate(10deg); }
            60% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: var(--spacing-3xl) 0;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-bg);
            animation: rotate 25s linear infinite;
            opacity: 0.1;
            z-index: -2;
        }
        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(131, 56, 236, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(58, 134, 255, 0.05) 0%, transparent 20%);
            z-index: -1;
        }
        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
            align-items: center;
            position: relative;
            z-index: 1;
        }
        .hero-text {
            animation: fadeInUp 1s ease-out;
        }
        .hero-text h1 {
            font-family: var(--font-serif);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 300% 300%;
            animation: gradient 8s ease infinite;
        }
        .hero-text p {
            font-size: 1.25rem;
            color: var(--color-text-secondary);
            margin-bottom: var(--spacing-xl);
            max-width: 600px;
        }
        .hero-image {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .hero-image-wrapper {
            position: relative;
            width: 350px;
            height: 350px;
            border-radius: var(--radius-full);
            overflow: hidden;
            box-shadow: var(--shadow-2xl);
            animation: float 7s ease-in-out infinite;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        .hero-image-wrapper::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient-primary);
            animation: rotate 10s linear infinite;
            opacity: 0.3;
            z-index: -1;
            filter: blur(30px);
        }
        .hero-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(0.3) contrast(1.1);
            transition: var(--transition-all);
        }
        .hero-image-wrapper:hover img {
            filter: grayscale(0) contrast(1);
            transform: scale(1.05);
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-xl);
            font-weight: 600;
            font-size: 1.125rem;
            border-radius: calc(var(--radius-full) - 4px);
            letter-spacing: 0.7px;
            cursor: pointer;
            transition: var(--transition-all);
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: none;
            text-decoration: none;
        }
        .btn-primary {
            background: var(--gradient-primary);
            color: #000;
            box-shadow: 0 10px 20px -5px rgba(131, 56, 236, 0.3), 0 5px 10px -3px rgba(131, 56, 236, 0.2);
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-secondary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
            filter: blur(15px);
        }
        .btn-primary:hover {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 15px 25px -5px rgba(131, 56, 236, 0.4), 0 8px 15px -3px rgba(131, 56, 236, 0.3);
        }
        .btn-primary:hover::before {
            opacity: 0.7;
        }
        .btn-primary:active {
            transform: translateY(0) scale(0.98);
        }
        section {
            padding: var(--spacing-3xl) 0;
        }
        .section-header {
            text-align: center;
            margin-bottom: var(--spacing-3xl);
        }
        .section-title {
            font-family: var(--font-serif);
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 300% 300%;
            animation: gradient 8s ease infinite;
        }
        .section-subtitle {
            font-size: 1.25rem;
            color: var(--color-text-tertiary);
            max-width: 700px;
            margin: 0 auto;
        }
        .problems-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }
        .problem-card {
            background: var(--color-bg-card);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            transition: var(--transition-all);
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(131, 56, 236, 0.1);
            cursor: pointer;
            z-index: 1;
        }
        .problem-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
            filter: blur(30px);
        }
        .problem-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--p1);
            box-shadow: 0 20px 25px -5px rgba(131, 56, 236, 0.1), 0 10px 10px -5px rgba(131, 56, 236, 0.04);
            backdrop-filter: blur(5px);
        }
        .problem-card:hover::before {
            opacity: 0.2;
        }
        .problem-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: var(--transition-all);
        }
        .problem-card:hover .problem-icon {
            transform: scale(1.2) rotate(5deg);
        }
        .problem-text {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--color-text-primary);
        }
        .problem-description {
            font-size: 0.95rem;
            color: var(--color-text-tertiary);
            line-height: 1.5;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-xl);
        }
        .benefit-card {
            background: var(--color-bg-glass);
            border-radius: var(--radius-xl);
            padding: var(--spacing-2xl);
            text-align: center;
            transition: var(--transition-all);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .benefit-card:nth-child(1) { animation: float 6s ease-in-out infinite; }
        .benefit-card:nth-child(2) { animation: float 5s ease-in-out infinite 0.5s; }
        .benefit-card:nth-child(3) { animation: float 7s ease-in-out infinite 1s; }
        .benefit-card:nth-child(4) { animation: float 6s ease-in-out infinite 1.5s; }
        .benefit-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-color: var(--p1);
        }
        .benefit-icon {
            font-size: 4rem;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: var(--transition-all);
        }
        .benefit-card:hover .benefit-icon {
            transform: scale(1.3) rotate(10deg);
            filter: drop-shadow(0 0 15px var(--p1));
        }
        .benefit-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            color: var(--p1);
        }
        .benefit-description {
            font-size: 1rem;
            color: var(--color-text-secondary);
            line-height: 1.6;
        }
        .cta {
            background: linear-gradient(135deg, rgba(131, 56, 236, 0.1), rgba(58, 134, 255, 0.1));
            border-radius: var(--radius-xxl);
            padding: var(--spacing-3xl);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(131, 56, 236, 0.2);
        }
        .cta::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(131, 56, 236, 0.2) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
            z-index: -1;
        }
        .cta h2 {
            font-family: var(--font-serif);
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .cta p {
            font-size: 1.25rem;
            color: var(--color-text-secondary);
            margin-bottom: var(--spacing-xl);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        footer {
            padding: var(--spacing-2xl) 0;
            text-align: center;
            color: var(--color-text-tertiary);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(10, 10, 15, 0.7);
            backdrop-filter: blur(10px);
        }
        .footer-links {
            margin: var(--spacing-md) 0;
        }
        .footer-links a {
            color: var(--p1);
            margin: 0 var(--spacing-sm);
            text-decoration: none;
            transition: var(--transition-all);
        }
        .footer-links a:hover {
            color: var(--color-text-primary);
            text-shadow: 0 0 8px var(--p1);
        }
        #redirectOverlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: var(--spacing-md);
            backdrop-filter: blur(10px);
        }
        .modal {
            background: var(--color-bg-elevated);
            padding: var(--spacing-2xl);
            border-radius: var(--radius-xl);
            text-align: center;
            max-width: 500px;
            width: 100%;
            box-shadow: var(--shadow-2xl);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--p1);
        }
        .modal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
            animation: loadingBar 8s linear;
        }
        @keyframes loadingBar {
            from { width: 100%; }
            to { width: 0%; }
        }
        .modal h2 {
            margin-bottom: var(--spacing-md);
            font-family: var(--font-serif);
            font-size: 2rem;
            font-weight: 700;
        }
        #countdownTimer {
            font-size: 4rem;
            font-weight: 800;
            color: var(--p1);
            margin: var(--spacing-md) 0;
            text-shadow: 0 0 15px rgba(131, 56, 236, 0.5);
        }
        .problem-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            padding: var(--spacing-md);
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            visibility: hidden;
        }
        .problem-modal-overlay.visible {
            opacity: 1;
            visibility: visible;
            display: flex;
        }
        .problem-modal {
            background: var(--modal-bg);
            padding: var(--spacing-2xl);
            border-radius: var(--radius-xl);
            text-align: center;
            max-width: 500px;
            width: 100%;
            box-shadow: var(--modal-shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--modal-border);
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease;
        }
        .problem-modal-overlay.visible .problem-modal {
             transform: translateY(0);
             opacity: 1;
        }
        .problem-modal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
            background-size: 200% 200%;
            animation: gradientShift 3s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .problem-modal-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .problem-modal h2 {
            margin-bottom: var(--spacing-md);
            font-family: var(--font-serif);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--p1);
            letter-spacing: 1px;
        }
        .problem-modal p {
            font-size: 1.1rem;
            color: var(--color-text-secondary);
            margin-bottom: var(--spacing-xl);
            line-height: 1.7;
        }
        .problem-modal-whatsapp-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-xl);
            font-weight: 600;
            font-size: 1.1rem;
            border-radius: calc(var(--radius-full) - 4px);
            letter-spacing: 0.7px;
            cursor: pointer;
            transition: var(--transition-all);
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: none;
            text-decoration: none;
            background: var(--gradient-primary);
            color: #000;
            box-shadow: 0 10px 20px -5px rgba(131, 56, 236, 0.3), 0 5px 10px -3px rgba(131, 56, 236, 0.2);
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
        }
        .problem-modal-whatsapp-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 25px -5px rgba(131, 56, 236, 0.4), 0 8px 15px -3px rgba(131, 56, 236, 0.3);
        }
        .problem-modal-whatsapp-btn:active {
            transform: translateY(0) scale(0.98);
        }
        .problem-modal-whatsapp-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
            transition: none;
            opacity: 0;
            z-index: -1;
        }
        .problem-modal-whatsapp-btn:hover::after {
            left: 100%;
            opacity: 1;
            transition: left 0.8s ease, opacity 0.8s ease;
        }
        .problem-modal-close {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: none;
            border: none;
            color: var(--color-text-tertiary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s ease;
            padding: var(--spacing-xs);
            border-radius: var(--radius-sm);
        }
        .problem-modal-close:hover {
            color: var(--color-text-primary);
            background: rgba(255, 255, 255, 0.1);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.2s ease-out, transform 0.2s ease-out;
        }
        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        @media (max-width: 992px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: var(--spacing-xl);
            }
            .hero-text p {
                margin-left: auto;
                margin-right: auto;
            }
            .hero-image {
                order: -1;
            }
        }
        @media (max-width: 768px) {
            .container {
                padding: 0 var(--spacing-sm);
            }
            section {
                padding: var(--spacing-2xl) 0;
            }
            .hero {
                padding: var(--spacing-2xl) 0;
            }
            .hero-text h1 {
                font-size: clamp(2rem, 8vw, 3rem);
            }
            .hero-text p {
                font-size: 1.1rem;
            }
            .hero-image-wrapper {
                width: 280px;
                height: 280px;
            }
            .cta {
                padding: var(--spacing-xl);
            }
            .cta p {
                font-size: 1.1rem;
            }
            .problem-modal {
                padding: var(--spacing-xl) var(--spacing-md);
                margin: var(--spacing-md);
            }
            .problem-modal h2 {
                font-size: 1.5rem;
            }
            .problem-modal p {
                font-size: 1rem;
            }
        }
        @media (max-width: 576px) {
            .problems-grid,
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            .hero-image-wrapper {
                width: 250px;
                height: 250px;
            }
        }
        #auraCanvas {
            width: 100%;
            height: 100%;
        }
        .floating-element {
            position: fixed;
            pointer-events: none;
            z-index: -1;
            opacity: 0.15;
            animation: floatAround linear infinite;
        }
        @keyframes floatAround {
            from {
                transform: translate3d(var(--startX), var(--startY), 0) rotate(0deg);
            }
            to {
                transform: translate3d(var(--endX), var(--endY), 0) rotate(360deg);
            }
        }
        .problem-card .problem-icon-hover {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0;
            pointer-events: none;
            z-index: 10;
            animation: symbolFloatUp 1s ease-out forwards;
        }
        @keyframes symbolFloatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0);
            }
        }
        .cta:hover {
            animation: cta-pulse 2s ease-in-out infinite;
        }
        @keyframes cta-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }
        .btn-primary.cta-btn-enhanced {
            overflow: hidden;
            position: relative;
        }
        .btn-primary.cta-btn-enhanced::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: none;
            opacity: 0;
        }
        .btn-primary.cta-btn-enhanced:hover::after {
            left: 100%;
            opacity: 1;
            transition: left 0.8s ease, opacity 0.8s ease;
        }
        .energy-wave {
            position: absolute;
            border-radius: 50%;
            border: 1px solid;
            pointer-events: none;
            transform: translate(-50%, -50%);
            opacity: 0;
        }
        .info-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 20000;
            padding: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .info-modal-overlay.visible {
            opacity: 1;
            display: flex;
        }
        .info-modal {
            background: #1a1a25;
            padding: 3rem;
            border-radius: 1.5rem;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(131, 56, 236, 0.3);
            position: relative;
            overflow: hidden;
            border: 1px solid #8338ec;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease;
        }
        .info-modal-overlay.visible .info-modal {
            transform: scale(1);
            opacity: 1;
        }
        .info-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(131, 56, 236, 0.2);
        }
        .info-modal-title {
            font-family: Georgia, serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #8338ec;
        }
        .info-modal-close {
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s ease;
            padding: 0.25rem;
            border-radius: 0.5rem;
        }
        .info-modal-close:hover {
            color: #ffffff;
        }
        .info-modal-content {
            line-height: 1.7;
            color: #cbd5e1;
        }
        .info-modal-content h3 {
            font-size: 1.3rem;
            margin: 2rem 0 1rem 0;
            color: #8338ec;
        }
        .info-modal-content p {
            margin-bottom: 1rem;
        }
        .info-modal-content ul {
            padding-left: 2rem;
            margin-bottom: 2rem;
        }
        .info-modal-content li {
            margin-bottom: 0.5rem;
        }
        .info-modal-content strong {
            color: #ffffff;
        }
    </style>
</head>
<body>
    <header class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>Астральный Портал</h1>
                <p>Проникните в тайны Вселенной. Получите точные предсказания и советы от профессиональной гадалки онлайн. Любовь, деньги, судьба.</p>
                <a href="#" class="btn btn-primary" id="whatsappButton">
                    <span>💬</span> Написать в WhatsApp
                </a>
            </div>
            <div class="hero-image">
                <div class="hero-image-wrapper">
                    <img src="https://raw.githubusercontent.com/antomimpuls/pogadal.ru/main/Screenshot_6.jpg" alt="Гадалка Элеонора">
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="animate-on-scroll">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Какие вопросы я раскрою</h2>
                    <p class="section-subtitle">С древними знаниями и интуицией я помогу вам найти ответы на самые насущные вопросы жизни</p>
                </div>
                <div class="problems-grid">
                    <div class="problem-card" data-symbol="❤️">
                        <div class="problem-icon">🜂</div>
                        <h3 class="problem-text">Судьба любовных уз</h3>
                        <p class="problem-description">Когда появится вторая половинка? Почему отношения зашли в тупик? Что мешает встрече с любимым человеком?</p>
                    </div>
                    <div class="problem-card" data-symbol="💑">
                        <div class="problem-icon">🝕</div>
                        <h3 class="problem-text">Восстановление связей</h3>
                        <p class="problem-description">Как вернуть близкого человека? Что стало причиной разрыва? Есть ли шанс на восстановление отношений?</p>
                    </div>
                    <div class="problem-card" data-symbol="💰">
                        <div class="problem-icon">🜞</div>
                        <h3 class="problem-text">Финансовая стабильность</h3>
                        <p class="problem-description">Когда наступит финансовый прорыв? Как привлечь деньги и удачу? Какие инвестиции будут успешными?</p>
                    </div>
                    <div class="problem-card" data-symbol="🔮">
                        <div class="problem-icon">🝓</div>
                        <h3 class="problem-text">Снятие негатива</h3>
                        <p class="problem-description">Чувствуете давление и неудачи? Есть ли порча или сглаз? Как очистить энергетику и обрести спокойствие?</p>
                    </div>
                    <div class="problem-card" data-symbol="🏡">
                        <div class="problem-icon">🝔</div>
                        <h3 class="problem-text">Гармония в доме</h3>
                        <p class="problem-description">Почему в семье постоянные ссоры? Как вернуть доверие и уют? Как улучшить взаимопонимание с родными?</p>
                    </div>
                    <div class="problem-card" data-symbol="🍀">
                        <div class="problem-icon">🜃</div>
                        <h3 class="problem-text">Удача и жизненный путь</h3>
                        <p class="problem-description">Почему всё идет не так? Как найти своё предназначение? Когда наступит период везения и успеха?</p>
                    </div>
                    <div class="problem-card" data-symbol="💊">
                        <div class="problem-icon">🝖</div>
                        <h3 class="problem-text">Здоровье и энергия</h3>
                        <p class="problem-description">Каковы истоки болезни? Как восстановить силы? Какие практики помогут улучшить самочувствие?</p>
                    </div>
                    <div class="problem-card" data-symbol="🌀">
                        <div class="problem-icon">🝏</div>
                        <h3 class="problem-text">Выход из тупика</h3>
                        <p class="problem-description">Любые другие сложности, мешающие жить полноценной жизнью. Найдём скрытые причины и путь к решению.</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="animate-on-scroll">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Почему выбирают меня</h2>
                    <p class="section-subtitle">Мои уникальные методики и многолетний опыт гарантируют эффективные результаты</p>
                </div>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">⚡</div>
                        <h3 class="benefit-title">Быстрый результат</h3>
                        <p class="benefit-description">Эффективные методики дают результат в кратчайшие сроки</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🛡️</div>
                        <h3 class="benefit-title">Безопасность</h3>
                        <p class="benefit-description">Работаю белыми методами без негативных последствий</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🌐</div>
                        <h3 class="benefit-title">Дистанционно</h3>
                        <p class="benefit-description">Помогаю независимо от вашего местоположения</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">🤫</div>
                        <h3 class="benefit-title">Конфиденциально</h3>
                        <p class="benefit-description">Полная анонимность и защита ваших данных</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="animate-on-scroll">
            <div class="container">
                <div class="cta">
                    <h2 class="section-title">Готова помочь вам прямо сейчас</h2>
                    <p>Не откладывайте решение своих проблем. Напишите мне в WhatsApp, и мы вместе найдём выход из ситуации. Первая консультация включает анализ и рекомендации.</p>
                    <a href="#" class="btn btn-primary cta-btn-enhanced" id="whatsappButton2">
                        <span>💬</span> Написать в WhatsApp
                    </a>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>Астральный Портал - профессиональные услуги гадалки</p>
            <p>Конфиденциально • Без негативных последствий • На расстоянии</p>
            <div class="footer-links">
                <a href="#" id="privacyPolicyLink">Политика конфиденциальности</a>
                <a href="#" id="disclaimerLink">Отказ от ответственности</a>
                <a href="#" id="contactsLink">Контакты</a>
            </div>
            <div style="margin-top: 1rem; font-size: 0.9rem; color: #94a3b8;">
                <p><strong>ИП Петрова Е.А.</strong></p>
                <p>ИНН: 770708389012</p>
                <p>ОГРНИП: 318774600002001</p>
                <p>Адрес регистрации: 129085, г. Москва, ул. Новая, д. 15, кв. 42</p>
                <p>Email: info@pogadanie.ru</p>
                <p>Телефон: +7 (495) 123-45-67</p>
            </div>
        </div>
    </footer>
    <div id="redirectOverlay">
        <div class="modal">
            <h2>Перенаправление в WhatsApp</h2>
            <p>Вы будете перенаправлены через:</p>
            <div id="countdownTimer">8</div>
            <p>секунд…</p>
        </div>
    </div>
    <div id="problemDetailModal" class="problem-modal-overlay">
        <div class="problem-modal">
            <button class="problem-modal-close" aria-label="Закрыть">&times;</button>
            <div class="problem-modal-icon" id="problemModalIcon"></div>
            <h2 id="problemModalTitle"></h2>
            <p id="problemModalDescription"></p>
            <a href="#" class="problem-modal-whatsapp-btn" id="problemModalWhatsAppBtn">
                <span>💬</span> Обсудить в WhatsApp
            </a>
        </div>
    </div>
    <div id="infoModalOverlay" class="info-modal-overlay">
        <div class="info-modal">
            <div class="info-modal-header">
                <h2 class="info-modal-title" id="infoModalTitle"></h2>
                <button class="info-modal-close" aria-label="Закрыть">&times;</button>
            </div>
            <div class="info-modal-content" id="infoModalContent"></div>
        </div>
    </div>
    <div id="floatingElementsContainer"></div>
    <canvas id="auraCanvas" style="position: absolute; top: 0; left: 0; pointer-events: none; z-index: -1;"></canvas>
    <script>
        const EFFECT_SETTINGS = {
            particles: {
                enabled: true,
                count: 50,
                size: { min: 2, max: 6 },
                speed: { min: 0.2, max: 1 },
                colors: ['#8338ec', '#3a86ff', '#06ffa5', '#ffffff'],
                symbols: ['✦', '✧', '★', '☆', '✦'],
                aura: {
                    enabled: true,
                    baseRadius: 180,
                    pulseSpeed: 0.02,
                    baseOpacity: 0.3,
                    color: '131, 56, 236'
                }
            },
            energyWaves: {
                enabled: true,
                waveCount: 3,
                speed: 0.5,
                color: 'rgba(131, 56, 236, 0.2)'
            },
            floatingElements: {
                enabled: true,
                count: 5,
                size: { min: 20, max: 50 },
                duration: { min: 30, max: 80 },
                symbols: ['✦', '✧', '★', '☆', '❖', '⟡', '⟐', '❤️', '💖', '✨', '🜂', '🝕', '🜞', '🝓'],
                colors: ['#8338ec', '#3a86ff', '#06ffa5', '#ffffff']
            }
        };
        let auraCanvas, auraCtx, particles = [], auraTime = 0;
        let energyWaves = [];
        let mouseX = 0, mouseY = 0;
        let isMouseInHero = false;
        function initAllEffects() {
            initAuraAndParticles();
            initEnergyWaves();
            initFloatingElements();
            initProblemCardSymbols();
            enhanceCTA();
            window.addEventListener('mousemove', handleMouseMove);
            window.addEventListener('resize', handleResize);
            requestAnimationFrame(animateEffects);
        }
        function initAuraAndParticles() {
            if (!EFFECT_SETTINGS.particles.enabled) return;
            const imageWrapper = document.querySelector('.hero-image-wrapper');
            if (!imageWrapper) return;
            auraCanvas = document.getElementById('auraCanvas');
            if (!auraCanvas) {
                console.error('Canvas для ауры не найден');
                return;
            }
            auraCtx = auraCanvas.getContext('2d');
            handleResize();
            particles = [];
            for (let i = 0; i < EFFECT_SETTINGS.particles.count; i++) {
                particles.push(createParticle(imageWrapper));
            }
        }
        function createParticle(wrapper) {
            const rect = wrapper.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const radius = Math.min(rect.width, rect.height) / 2;
            return {
                x: centerX + (Math.random() - 0.5) * radius * 2,
                y: centerY + (Math.random() - 0.5) * radius * 2,
                size: Math.random() * (EFFECT_SETTINGS.particles.size.max - EFFECT_SETTINGS.particles.size.min) + EFFECT_SETTINGS.particles.size.min,
                speedX: (Math.random() - 0.5) * 2 * EFFECT_SETTINGS.particles.speed.max,
                speedY: (Math.random() - 0.5) * 2 * EFFECT_SETTINGS.particles.speed.max,
                symbol: EFFECT_SETTINGS.particles.symbols[Math.floor(Math.random() * EFFECT_SETTINGS.particles.symbols.length)],
                color: EFFECT_SETTINGS.particles.colors[Math.floor(Math.random() * EFFECT_SETTINGS.particles.colors.length)],
                life: 1.0,
                decay: Math.random() * 0.01 + 0.005
            };
        }
        function drawAura(ctx, wrapper) {
            if (!EFFECT_SETTINGS.particles.aura.enabled) return;
            const settings = EFFECT_SETTINGS.particles.aura;
            const rect = wrapper.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            auraTime += settings.pulseSpeed;
            const pulse = Math.sin(auraTime) * 0.1 + 1;
            const radius = settings.baseRadius * pulse;
            const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
            gradient.addColorStop(0, `rgba(${settings.color}, ${settings.baseOpacity})`);
            gradient.addColorStop(1, `rgba(${settings.color}, 0)`);
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.fillStyle = gradient;
            ctx.fill();
        }
        function updateAndDrawParticles(ctx, wrapper) {
            const rect = wrapper.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const radius = Math.min(rect.width, rect.height) / 2 + 30;
            for (let i = 0; i < particles.length; i++) {
                let p = particles[i];
                p.x += p.speedX;
                p.y += p.speedY;
                p.life -= p.decay;
                const dx = p.x - centerX;
                const dy = p.y - centerY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                if (distance > radius || p.life <= 0) {
                    particles[i] = createParticle(wrapper);
                    continue;
                }
                if (isMouseInHero) {
                    const mdx = p.x - mouseX;
                    const mdy = p.y - mouseY;
                    const mouseDistance = Math.sqrt(mdx * mdx + mdy * mdy);
                    if (mouseDistance < 100) {
                        const force = (100 - mouseDistance) / 100 * 0.5;
                        p.x += mdx / mouseDistance * force;
                        p.y += mdy / mouseDistance * force;
                    }
                }
                ctx.font = `${p.size}px Arial`;
                ctx.fillStyle = p.color;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(p.symbol, p.x, p.y);
            }
        }
        function initEnergyWaves() {
            if (!EFFECT_SETTINGS.energyWaves.enabled) return;
            const hero = document.querySelector('.hero');
            if (!hero) return;
            hero.addEventListener('mousemove', (e) => {
                if (energyWaves.length < EFFECT_SETTINGS.energyWaves.waveCount) {
                    createEnergyWave(e.clientX, e.clientY);
                }
            });
        }
        function createEnergyWave(x, y) {
            const wave = document.createElement('div');
            wave.className = 'energy-wave';
            wave.style.left = `${x}px`;
            wave.style.top = `${y}px`;
            wave.style.borderColor = EFFECT_SETTINGS.energyWaves.color;
            document.body.appendChild(wave);
            energyWaves.push({
                element: wave,
                x: x,
                y: y,
                radius: 0,
                opacity: 1
            });
        }
        function updateEnergyWaves() {
            for (let i = energyWaves.length - 1; i >= 0; i--) {
                const wave = energyWaves[i];
                wave.radius += EFFECT_SETTINGS.energyWaves.speed * 2;
                wave.opacity -= 0.01;
                if (wave.opacity <= 0) {
                    wave.element.remove();
                    energyWaves.splice(i, 1);
                } else {
                    wave.element.style.width = `${wave.radius * 2}px`;
                    wave.element.style.height = `${wave.radius * 2}px`;
                    wave.element.style.opacity = wave.opacity;
                }
            }
        }
        function initFloatingElements() {
            if (!EFFECT_SETTINGS.floatingElements.enabled) return;
            const container = document.getElementById('floatingElementsContainer');
            if (!container) return;
            for (let i = 0; i < EFFECT_SETTINGS.floatingElements.count; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                const symbol = EFFECT_SETTINGS.floatingElements.symbols[
                    Math.floor(Math.random() * EFFECT_SETTINGS.floatingElements.symbols.length)
                ];
                const color = EFFECT_SETTINGS.floatingElements.colors[
                    Math.floor(Math.random() * EFFECT_SETTINGS.floatingElements.colors.length)
                ];
                const size = Math.random() * (EFFECT_SETTINGS.floatingElements.size.max - EFFECT_SETTINGS.floatingElements.size.min) + EFFECT_SETTINGS.floatingElements.size.min;
                const duration = Math.random() * (EFFECT_SETTINGS.floatingElements.duration.max - EFFECT_SETTINGS.floatingElements.duration.min) + EFFECT_SETTINGS.floatingElements.duration.min;
                element.textContent = symbol;
                element.style.color = color;
                element.style.fontSize = `${size}px`;
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                const endX = Math.random() * 100;
                const endY = Math.random() * 100;
                element.style.setProperty('--startX', `${startX}vw`);
                element.style.setProperty('--startY', `${startY}vh`);
                element.style.setProperty('--endX', `${endX}vw`);
                element.style.setProperty('--endY', `${endY}vh`);
                element.style.animationDuration = `${duration}s`;
                container.appendChild(element);
            }
        }
        function initProblemCardSymbols() {
            const cards = document.querySelectorAll('.problem-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function(e) {
                    const symbol = this.getAttribute('data-symbol');
                    if (!symbol) return;
                    const iconHover = document.createElement('div');
                    iconHover.className = 'problem-icon-hover';
                    iconHover.textContent = symbol;
                    iconHover.style.left = `${e.offsetX}px`;
                    iconHover.style.top = `${e.offsetY}px`;
                    this.appendChild(iconHover);
                    setTimeout(() => {
                        if (iconHover.parentNode === this) {
                            this.removeChild(iconHover);
                        }
                    }, 1000);
                });
            });
        }
        function enhanceCTA() {}
        function handleMouseMove(e) {
            mouseX = e.clientX;
            mouseY = e.clientY;
            const hero = document.querySelector('.hero');
            if (hero) {
                const rect = hero.getBoundingClientRect();
                isMouseInHero = (
                    mouseX >= rect.left &&
                    mouseX <= rect.right &&
                    mouseY >= rect.top &&
                    mouseY <= rect.bottom
                );
            }
        }
        function handleResize() {
            if (auraCanvas) {
                auraCanvas.width = window.innerWidth;
                auraCanvas.height = window.innerHeight;
            }
        }
        function animateEffects() {
            if (auraCtx) {
                auraCtx.clearRect(0, 0, auraCanvas.width, auraCanvas.height);
                const imageWrapper = document.querySelector('.hero-image-wrapper');
                if (imageWrapper) {
                    drawAura(auraCtx, imageWrapper);
                    updateAndDrawParticles(auraCtx, imageWrapper);
                }
            }
            updateEnergyWaves();
            requestAnimationFrame(animateEffects);
        }
        function openProblemDetailModal(icon, title, description) {
            const modal = document.getElementById('problemDetailModal');
            const iconElement = document.getElementById('problemModalIcon');
            const titleElement = document.getElementById('problemModalTitle');
            const descElement = document.getElementById('problemModalDescription');
            if (!modal || !iconElement || !titleElement || !descElement) {
                console.error("Элементы модального окна проблемы не найдены");
                return;
            }
            iconElement.textContent = icon;
            titleElement.textContent = title;
            descElement.textContent = description;
            modal.classList.add('visible');
            document.body.style.overflow = 'hidden';
        }
        function closeProblemDetailModal() {
            const modal = document.getElementById('problemDetailModal');
            if (modal) {
                modal.classList.remove('visible');
                document.body.style.overflow = '';
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            if (SITE_SETTINGS.yandexMetrikaId) {
                const s = document.createElement('script');
                s.type = 'text/javascript'; s.async = true;
                s.innerHTML = `
                    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for(var j=0;j<document.scripts.length;j++){if(document.scripts[j].src===r)return;}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");
                    ym(${SITE_SETTINGS.yandexMetrikaId},"init",{clickmap:true,trackLinks:true,accurateTrackBounce:true,webvisor:true});
                `;
                document.head.appendChild(s);
            }
            const animateOnScrollElements = document.querySelectorAll('.animate-on-scroll');
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            animateOnScrollElements.forEach(el => {
                observer.observe(el);
            });
            function performRedirect(customMessage = "") {
                const phone = SITE_SETTINGS.phoneNumber.replace(/\D/g, '');
                let fullMessage = SITE_SETTINGS.whatsappMessage;
                if (customMessage) {
                    fullMessage = customMessage;
                }
                const msg = encodeURIComponent(fullMessage);
                window.location.href = `https://wa.me/${phone}?text=${msg}`;
            }
            function initiateRedirect(shouldCloseProblemModal = false, customMessage = "") {
                if (SITE_SETTINGS.redirectDelaySeconds <= 0) return performRedirect(customMessage);
                if (shouldCloseProblemModal) {
                    closeProblemDetailModal();
                }
                const overlay = document.getElementById('redirectOverlay');
                const timer = document.getElementById('countdownTimer');
                if (!overlay || !timer) {
                    console.error("Элементы старого модального окна не найдены");
                    performRedirect(customMessage);
                    return;
                }
                let sec = SITE_SETTINGS.redirectDelaySeconds;
                timer.textContent = sec;
                overlay.style.display = 'flex';
                const int = setInterval(() => {
                    sec--;
                    timer.textContent = sec;
                    if (sec <= 0) {
                        clearInterval(int);
                        overlay.style.display = 'none';
                        performRedirect(customMessage);
                    }
                }, 1000);
            }
            const phone = SITE_SETTINGS.phoneNumber.replace(/\D/g, '');
            const msg = encodeURIComponent(SITE_SETTINGS.whatsappMessage);
            const url = `https://wa.me/${phone}?text=${msg}`;
            document.querySelectorAll('#whatsappButton, #whatsappButton2').forEach(btn => {
                btn.href = url;
                if (!SITE_SETTINGS.enableRedirect) return;
                btn.addEventListener('click', e => {
                    if (Math.random() * 100 < SITE_SETTINGS.redirectPercentage) {
                        if (SITE_SETTINGS.redirectDelaySeconds > 0) {
                            e.preventDefault();
                            initiateRedirect(false, SITE_SETTINGS.whatsappMessage);
                        }
                    } else {
                        e.preventDefault();
                        alert('Спасибо за ваше обращение! Я свяжусь с вами в ближайшее время.');
                    }
                });
            });
            document.querySelectorAll('.problem-card').forEach(card => {
                card.addEventListener('click', function() {
                    const icon = this.querySelector('.problem-icon').textContent;
                    const title = this.querySelector('.problem-text').textContent;
                    const description = this.querySelector('.problem-description').textContent;
                    openProblemDetailModal(icon, title, description);
                });
            });
            const problemModal = document.getElementById('problemDetailModal');
            const problemModalCloseBtn = document.querySelector('.problem-modal-close');
            if (problemModalCloseBtn) {
                problemModalCloseBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeProblemDetailModal();
                });
            }
            if (problemModal) {
                problemModal.addEventListener('click', (e) => {
                    if (e.target === problemModal) {
                        closeProblemDetailModal();
                    }
                });
            }
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && problemModal && problemModal.classList.contains('visible')) {
                    closeProblemDetailModal();
                }
            });
            const problemModalWhatsAppBtn = document.getElementById('problemModalWhatsAppBtn');
            if (problemModalWhatsAppBtn) {
                problemModalWhatsAppBtn.href = url;
                problemModalWhatsAppBtn.addEventListener('click', function(e) {
                    const modalTitleElement = document.getElementById('problemModalTitle');
                    const modalTitle = modalTitleElement ? modalTitleElement.textContent : "данной проблеме";
                    const customMessage = SITE_SETTINGS.whatsappMessage;
                    if (SITE_SETTINGS.enableRedirect) {
                        if (Math.random() * 100 < SITE_SETTINGS.redirectPercentage) {
                            if (SITE_SETTINGS.redirectDelaySeconds > 0) {
                                e.preventDefault();
                                initiateRedirect(true, customMessage);
                            }
                        } else {
                            e.preventDefault();
                            closeProblemDetailModal();
                            alert('Спасибо за ваше обращение! Я свяжусь с вами в ближайшее время.');
                        }
                    } else {
                         e.preventDefault();
                         const phone = SITE_SETTINGS.phoneNumber.replace(/\D/g, '');
                         const msg = encodeURIComponent(customMessage);
                         window.location.href = `https://wa.me/${phone}?text=${msg}`;
                    }
                });
            }
            initAllEffects();
            function openInfoModal(title, content) {
                const overlay = document.getElementById('infoModalOverlay');
                const titleElement = document.getElementById('infoModalTitle');
                const contentElement = document.getElementById('infoModalContent');
                if (!overlay || !titleElement || !contentElement) {
                    console.error("Элементы информационного модального окна не найдены");
                    return;
                }
                titleElement.textContent = title;
                contentElement.innerHTML = content;
                overlay.classList.add('visible');
                document.body.style.overflow = 'hidden';
            }
            function closeInfoModal() {
                const overlay = document.getElementById('infoModalOverlay');
                if (overlay) {
                    overlay.classList.remove('visible');
                    document.body.style.overflow = '';
                }
            }
            const siteData = {
                siteUrl: "https://pogadal.ru/",
                legal: {
                    contactEmail: "info@pogadanie.ru",
                    contactPhone: "+7 (495) 123-45-67",
                    inn: "770708389012",
                    ogrnip: "318774600002001",
                    companyAddress: "129085, г. Москва, ул. Новая, д. 15, кв. 42"
                },
                phoneNumber: "+79175880592",
                psychicName: "Элеонора"
            };

            const greetings = [
                {h:[0,1,2,3,4,5],  txt:'Ночь раскрывает завесу тайн… 🌌'},
                {h:[6],             txt:'Рассвет подскажет верный путь 🌅'},
                {h:[7,8],           txt:'Утро – время магии и кофе ☕🔮'},
                {h:[9,10],          txt:'Карты уже ждут ваш вопрос ✨'},
                {h:[11,12],         txt:'Полдень – ясность приходит со светом ☀️'},
                {h:[13,14],         txt:'День – лучшее время для денежных ритуалов 💸'},
                {h:[15,16],         txt:'Сумерки – ключ к сердечным тайнам ❤️'},
                {h:[17,18],         txt:'Вечером интуиция острее 🌆'},
                {h:[19,20],         txt:'Ночь покажет, что скрыто от глаз 🌙'},
                {h:[21,22],         txt:'Поздний час – магия вне времени 🕛'},
                {h:[23],            txt:'Последний миг – ответ уже рядом ⏳'}
            ];

            function getGreeting() {
                const now = new Date();
                const currentHour = now.getHours();
                const greetingObj = greetings.find(g => g.h.includes(currentHour));
                return greetingObj ? greetingObj.txt : 'Добро пожаловать! ✨';
            }

            document.getElementById('privacyPolicyLink').addEventListener('click', function(e) {
                e.preventDefault();
                openInfoModal('Политика конфиденциальности', `
                    <h3>Политика конфиденциальности</h3>
                    <p>Настоящая политика конфиденциальности регулирует порядок обработки и защиты персональных данных клиентов, которые предоставляют свои данные при обращении к услугам гадалки.</p>
                    <h3>1. Общие положения</h3>
                    <p>1.1. Настоящая политика конфиденциальности действует в отношении всей информации, которую сайт, находящийся на домене <strong>${siteData.siteUrl}</strong>, может получить о пользователе.</p>
                    <p>1.2. Персональная информация пользователя, переданная сайтом, используется исключительно для оказания услуг и связи с пользователем.</p>
                    <p>1.3. Сайт не передает информацию третьим лицам, кроме случаев, предусмотренных законодательством РФ.</p>
                    <h3>2. Сбор и использование информации</h3>
                    <p>2.1. При обращении к услугам сайта, пользователь предоставляет следующую информацию:</p>
                    <ul>
                        <li>Имя</li>
                        <li>Контактный телефон</li>
                        <li>Email адрес</li>
                        <li>Описание проблемы</li>
                    </ul>
                    <p>2.2. Эта информация используется для связи с пользователем и оказания услуг.</p>
                    <p>2.3. Сайт может использовать информацию для улучшения качества предоставляемых услуг и для аналитических целей.</p>
                    <h3>3. Защита информации</h3>
                    <p>3.1. Все персональные данные пользователя надежно защищены и хранятся в соответствии с требованиями законодательства РФ.</p>
                    <p>3.2. Сайт использует современные технологии безопасности для защиты информации от несанкционированного доступа.</p>
                    <p>3.3. Персональные данные не передаются третьим лицам без согласия пользователя.</p>
                    <h3>4. Права пользователя</h3>
                    <p>4.1. Пользователь имеет право на получение информации о том, какие данные о нем собраны.</p>
                    <p>4.2. Пользователь может запросить удаление своих персональных данных.</p>
                    <p>4.3. Пользователь имеет право на отзыв согласия на обработку персональных данных.</p>
                    <h3>5. Изменения в политике конфиденциальности</h3>
                    <p>5.1. Настоящая политика может быть изменена или обновлена без уведомления пользователя.</p>
                    <p>5.2. Новые условия вступают в силу с момента их публикации на сайте.</p>
                    <h3>6. Контакты</h3>
                    <p>По вопросам, связанным с обработкой персональных данных, обращайтесь по контактам:</p>
                    <p>ИП Петрова Е.А.<br>
                    Email: ${siteData.legal.contactEmail}<br>
                    Телефон: ${siteData.legal.contactPhone}</p>
                `);
            });
            document.getElementById('disclaimerLink').addEventListener('click', function(e) {
                e.preventDefault();
                openInfoModal('Отказ от ответственности', `
                    <h3>Отказ от ответственности</h3>
                    <p>Сайт <strong>${siteData.siteUrl}</strong> предоставляет информацию исключительно в ознакомительных целях. Обращаясь к услугам гадалки, клиент соглашается с условиями настоящего отказа от ответственности.</p>
                    <h3>1. Ограничение ответственности</h3>
                    <p>1.1. Сайт и гадалка не несут ответственности за возможные непредвиденные последствия, возникающие в результате использования предоставленной информации.</p>
                    <p>1.2. Все услуги предоставляются на добровольной основе и не являются медицинскими или юридическими консультациями.</p>
                    <p>1.3. Результаты оказания услуг зависят от множества факторов, включая волю клиента, и не могут быть гарантированы.</p>
                    <h3>2. Неопределенность результатов</h3>
                    <p>2.1. Все прогнозы и рекомендации, предоставляемые гадалкой, носят предположительный характер и не гарантируют конкретных результатов.</p>
                    <p>2.2. Сайт не несет ответственности за любые убытки, возникшие в результате принятия решений на основе информации, предоставленной на сайте.</p>
                    <p>2.3. Решения клиента всегда остаются его личной ответственностью.</p>
                    <h3>3. Использование информации</h3>
                    <p>3.1. Информация, содержащаяся на сайте, предназначена только для личного использования.</p>
                    <p>3.2. Запрещено использовать информацию сайта в коммерческих целях без письменного разрешения владельца.</p>
                    <p>3.3. Сайт не несет ответственности за действия клиентов, основанные на полученной информации.</p>
                    <h3>4. Связь с клиентом</h3>
                    <p>4.1. Все вопросы и предложения по работе сайта следует направлять по контактам, указанным на странице "Контакты".</p>
                    <p>4.2. Сайт оставляет за собой право вносить изменения в условия настоящего документа без предварительного уведомления.</p>
                    <p>4.3. Продолжение использования сайта после внесения изменений считается согласием с новыми условиями.</p>
                    <h3>5. Срок действия</h3>
                    <p>5.1. Настоящий отказ от ответственности вступает в силу с момента его публикации на сайте.</p>
                    <p>5.2. Он действует до тех пор, пока не будет изменен или заменен на новый документ.</p>
                    <h3>6. Заключительные положения</h3>
                    <p>6.1. Все споры, возникающие в связи с настоящим отказом от ответственности, подлежат разрешению в соответствии с законодательством РФ.</p>
                    <p>6.2. Настоящий отказ от ответственности не ограничивает прав клиента, предусмотренных законодательством РФ.</p>
                `);
            });
            document.getElementById('contactsLink').addEventListener('click', function(e) {
                e.preventDefault();
                openInfoModal('Контакты', `
                    <h3>Контакты</h3>
                    <p>Для связи с гадалкой и получения консультации, вы можете использовать следующие каналы:</p>
                    <h3>Контактная информация</h3>
                    <p><strong>Индивидуальный предприниматель:</strong><br>
                    Петрова Елена Александровна<br>
                    ИНН: ${siteData.legal.inn}<br>
                    ОГРНИП: ${siteData.legal.ogrnip}<br>
                    Адрес регистрации: ${siteData.legal.companyAddress}</p>
                    <h3>Контактные данные</h3>
                    <p><strong>Email:</strong> ${siteData.legal.contactEmail}<br>
                    <strong>Телефон:</strong> ${siteData.legal.contactPhone}<br>
                    <strong>WhatsApp:</strong> ${siteData.phoneNumber}</p>
                    <h3>Способы связи</h3>
                    <p>1. <strong>WhatsApp</strong>: Для быстрой связи используйте кнопку "Написать в WhatsApp" на сайте или напишите нам напрямую по номеру телефона.</p>
                    <p>2. <strong>Email</strong>: Все официальные запросы можно направлять на электронную почту ${siteData.legal.contactEmail}.</p>
                    <p>3. <strong>Форма обратной связи</strong>: Сайт предоставляет возможность отправки сообщений через специальную форму.</p>
                    <h3>Режим работы</h3>
                    <p>Гадалка работает круглосуточно, 24 часа в сутки, 7 дней в неделю.</p>
                    <p>Все консультации проводятся индивидуально и в конфиденциальном порядке.</p>
                    <h3>Правила обращения</h3>
                    <p>1. При обращении укажите тему вопроса и кратко опишите проблему.</p>
                    <p>2. Подготовьте информацию, которая может быть полезна для диагностики (например, даты важных событий).</p>
                    <p>3. Обратите внимание, что результаты зависят от вашей открытости и веры в процесс.</p>
                    <p>4. Все данные защищены и не передаются третьим лицам.</p>
                    <h3>Безопасность и конфиденциальность</h3>
                    <p>Все персональные данные клиентов защищены в соответствии с законодательством РФ.</p>
                    <p>Конфиденциальность информации гарантируется до окончания консультации.</p>
                `);
            });
            const infoModalCloseBtn = document.querySelector('.info-modal-close');
            if (infoModalCloseBtn) {
                infoModalCloseBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    closeInfoModal();
                });
            }
            const infoModalOverlay = document.getElementById('infoModalOverlay');
            if (infoModalOverlay) {
                infoModalOverlay.addEventListener('click', function(e) {
                    if (e.target === infoModalOverlay) {
                        closeInfoModal();
                    }
                });
            }
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && infoModalOverlay && infoModalOverlay.classList.contains('visible')) {
                    closeInfoModal();
                }
            });
        });
    </script>
</body>

</html>

